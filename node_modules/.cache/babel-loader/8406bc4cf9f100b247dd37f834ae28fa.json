{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\EcommerceWebsite\\\\Project2\\\\backup1\\\\E-commerce-master\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport RecipeReviewCard from \"./RecipeReviewCard\";\nimport \"../styles/main.css\";\nimport axios from \"axios\";\nimport PaginationRounded from \"./pagination\";\nimport CustomLoader from \"./Loader\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Main = _ref => {\n  _s();\n\n  let {\n    handleClick,\n    handlePdp\n  } = _ref;\n  const [allProducts, setAllProducts] = useState();\n  const [productList, setProductList] = useState();\n  const [isLoading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [isSorting, setSorting] = useState(false);\n  useEffect(() => {\n    (async function fetchProductList() {\n      try {\n        var _data$products;\n\n        const {\n          data\n        } = await axios.get(`https://dummyjson.com/products?limit=100`);\n        const slicedProduct = data === null || data === void 0 ? void 0 : (_data$products = data.products) === null || _data$products === void 0 ? void 0 : _data$products.slice(0, 32);\n        setAllProducts(data.products);\n        setProductList(slicedProduct);\n      } catch (error) {\n        console.log(`error in getting product list`, error);\n        toast.error(error.message);\n      } finally {\n        setTimeout(() => {\n          setLoading(false);\n        }, 4500);\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    toast.warning(`Please wait fetching product list`);\n    setLoading(true);\n    const pageChangeProduct = allProducts === null || allProducts === void 0 ? void 0 : allProducts.slice(page * 10 - 10, 10 * page);\n    setTimeout(() => {\n      setLoading(false);\n      toast.success(`Success`);\n    }, 4500);\n    setProductList(pageChangeProduct);\n    setSorting(false);\n  }, [page]);\n  console.log(`productList`, productList);\n  console.log(`allProducts`, allProducts);\n\n  const handleSort = () => {\n    setSorting(!isSorting);\n    productList === null || productList === void 0 ? void 0 : productList.sort((a, b) => a.price - b.price);\n    toast.success(`Applied Low to High`);\n  };\n\n  const handleClose = () => {\n    setSorting(!isSorting);\n    productList === null || productList === void 0 ? void 0 : productList.sort((a, b) => a.id - b.id);\n    toast.error(`Sorting Removed`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5 d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(PaginationRounded, {\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\",\n      children: [!isSorting && /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"test\",\n        className: \"btn btn-danger mx-2\",\n        onClick: handleSort,\n        children: \"Sort by Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), isSorting && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark d-flex align-items-center mx-2\",\n        onClick: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(CustomLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: productList === null || productList === void 0 ? void 0 : productList.map(item => /*#__PURE__*/_jsxDEV(RecipeReviewCard, {\n          item: item,\n          handleClick: handleClick,\n          setProductList: setProductList,\n          productList: productList,\n          handlePdp: handlePdp\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this))\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Main, \"7xCQRYEERPUYeUoZ7iNOx9y/smo=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","RecipeReviewCard","axios","PaginationRounded","CustomLoader","ClearIcon","toast","Main","handleClick","handlePdp","allProducts","setAllProducts","productList","setProductList","isLoading","setLoading","page","setPage","isSorting","setSorting","fetchProductList","data","get","slicedProduct","products","slice","error","console","log","message","setTimeout","warning","pageChangeProduct","success","handleSort","sort","a","b","price","handleClose","id","map","item"],"sources":["C:/Users/DELL/Desktop/EcommerceWebsite/Project2/backup1/E-commerce-master/src/components/Main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport RecipeReviewCard from \"./RecipeReviewCard\";\nimport \"../styles/main.css\";\nimport axios from \"axios\";\nimport PaginationRounded from \"./pagination\";\nimport CustomLoader from \"./Loader\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport { toast } from \"react-toastify\";\n\nconst Main = ({ handleClick, handlePdp }) => {\n  const [allProducts, setAllProducts] = useState();\n  const [productList, setProductList] = useState();\n  const [isLoading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [isSorting, setSorting] = useState(false);\n\n  useEffect(() => {\n    (async function fetchProductList() {\n      try {\n        const { data } = await axios.get(\n          `https://dummyjson.com/products?limit=100`\n        );\n        const slicedProduct = data?.products?.slice(0, 32);\n\n        setAllProducts(data.products);\n        setProductList(slicedProduct);\n      } catch (error) {\n        console.log(`error in getting product list`, error);\n        toast.error(error.message);\n      } finally {\n        setTimeout(() => {\n          setLoading(false);\n        }, 4500);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    toast.warning(`Please wait fetching product list`);\n    setLoading(true);\n    const pageChangeProduct = allProducts?.slice(page * 10 - 10, 10 * page);\n    setTimeout(() => {\n      setLoading(false);\n      toast.success(`Success`);\n    }, 4500);\n    setProductList(pageChangeProduct);\n    setSorting(false);\n  }, [page]);\n\n  console.log(`productList`, productList);\n  console.log(`allProducts`, allProducts);\n\n  const handleSort = () => {\n    setSorting(!isSorting);\n    productList?.sort((a, b) => a.price - b.price);\n    toast.success(`Applied Low to High`);\n  };\n\n  const handleClose = () => {\n    setSorting(!isSorting);\n    productList?.sort((a, b) => a.id - b.id);\n    toast.error(`Sorting Removed`);\n  };\n\n  return (\n    <>\n      <div className=\"mt-5 d-flex justify-content-center\">\n        <PaginationRounded setPage={setPage} />\n      </div>\n      {!isLoading && (\n        <div className=\"mt-2\">\n          {!isSorting && (\n            <button\n              id=\"test\"\n              className=\"btn btn-danger mx-2\"\n              onClick={handleSort}\n            >\n              Sort by Price\n            </button>\n          )}\n          {isSorting && (\n            <button\n              className=\"btn btn-dark d-flex align-items-center mx-2\"\n              onClick={handleClose}\n            >\n              <span>Close</span>\n              <ClearIcon />\n            </button>\n          )}\n        </div>\n      )}\n      <section>\n        {isLoading ? (\n          <CustomLoader />\n        ) : (\n          <>\n            {productList?.map((item) => (\n              <RecipeReviewCard\n                key={item.id}\n                item={item}\n                handleClick={handleClick}\n                setProductList={setProductList}\n                productList={productList}\n                handlePdp={handlePdp}\n              />\n            ))}\n          </>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}